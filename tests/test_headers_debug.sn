# Debug headers in response
import "../src/response"

fn main(): void =>
    print("Creating response...\n")
    var res: HttpResponse = HttpResponse.ok()
    print($"Initial headers count: {res.headers.length}\n")

    print("\nAdding text body (which adds Content-Type header)...\n")
    res = res.text("Hello!")
    print($"Headers count after text(): {res.headers.length}\n")

    print("\nIterating headers:\n")
    for var i: int = 0; i < res.headers.length; i++ =>
        var h: ResponseHeader = res.headers[i]
        print($"  Header[{i}]: name='{h.name}', value='{h.value}'\n")

    print("\nDone.\n")
